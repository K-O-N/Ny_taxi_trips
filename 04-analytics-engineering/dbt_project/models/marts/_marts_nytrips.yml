version 2:

models:
  - name: dim_locations
    description: "Dimension table for taxi trip locations, including borough, zone, and service zone information"
    description: "Intermediate model that unions the green and yellow taxi trips data from NYC Taxi and Limousine Commission (TLC)"
    columns:
      - name: locationid
        description: "Unique identifier for each location, taken from the pickup_locationid and dropoff_locationid columns in the source data"
        tests:
          - unique
          - not_null
      - name: zones
        description: "The zone name for the location, as defined by the NYC Taxi and Limousine Commission (TLC)"
      - name: borough
        description: "The borough name for the location, as defined by the NYC Taxi and Limousine Commission (TLC)"
      - name: service_zone
        description: "The service zone for the location, as defined by the NYC Taxi and Limousine Commission (TLC)"


  - name: dim_payments
    description: "Dimension table for payment types, including a description of each payment type"
    columns:
      - name: payment_type
        description: "Unique identifier for each payment type, as defined by the NYC Taxi and Limousine Commission (TLC)"
        tests:
          - unique
          - not_null
      - name: payment_type_desc
        description: "The description of the payment type, as defined by the NYC Taxi and Limousine Commission (TLC)"
        tests:
          - accepted_values: 
              values: ['Credit Card', 'Cash', 'No Charge', 'Dispute', 'Unknown', 'Flex Fare trip', 'Voided trip']


  - name: dim_vendors
    description: "Dimension table for taxi vendors, including a description of each vendor"
    columns:
      - name: vendorid
        description: "Unique identifier for each vendor, as defined by the NYC Taxi and Limousine Commission (TLC)"
        tests:
          - unique
          - not_null
      - name: vendor_desc
        description: "The description of the vendor, as defined by the NYC Taxi and Limousine Commission (TLC)"


  - name: fact_trips
    description: "Fact table for taxi trips, including measures such as trip distance, fare amount, and tip amount, as well as dimensions such as pickup and dropoff locations and cab color"
    columns:
      - name: tripid
        description: "Unique identifier for each trip, generated by hashing the combination of pickup_datetime, dropoff_datetime, pickup_locationid, dropoff_locationid, and vendorid"
        tests:
          - unique
          - not_null
      - name: cab_color
        description: "The color of the taxi cab, either 'green' or 'yellow'"
      - name: pickup_datetime
        description: "The date and time when the trip started"
      - name: dropoff_datetime
        description: "The date and time when the trip ended"
      - name: passenger_count
        description: "The number of passengers in the trip"
      - name: trip_distance
        description: "The distance of the trip in miles"
      - name: fare_amount
        description: "The fare amount for the trip in USD"
      - name: tip_amount
        description: "The tip amount for the trip in USD"
      - name: tolls_amount
        description: "The tolls amount for the trip in USD"
      - name: total_amount
        description: "The total amount for the trip in USD, including fare, tip, and tolls"